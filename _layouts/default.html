<!doctype html>
<html lang="{{ page.lang | default: site.lang | default: 'en-US' }}" class="no-js">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>{% if page.title %}{{ page.title }} &#8211; {% endif %}{{ site.title }}</title>
    {% if page.excerpt %}<meta name="description" content="{{ page.excerpt | strip_html }}">{% endif %}
    {% if page.tags %}<meta name="keywords" content="{{ page.tags | join: ', ' }}">{% endif %}
    {% if page.author %}
    {% assign author = site.data.authors[page.author] %}{% else %}{% assign author = site.owner %}
    {% endif %}

    {% include open-graph.html %}

    <meta name="google-site-verification" content="E-8bDxSAW0ysw8jb1C50ReIWCBWkNglbl0pXdSxyZVk" />

    {% capture canonical %}{{ site.url }}{% if site.permalink contains '.html' %}{{ page.url }}{% else %}{{ page.url | remove:'index.html' | strip_slash }}{% endif %}{% endcapture %}
    <link rel="canonical" href="{{ canonical }}">

    <link rel="alternate" type="application/atom+xml" title="{{ site.title | escape }}" href="{{ site.feed.path | default: 'feed.xml' | relative_url }}">

    <!-- Icons -->
    <!-- 16x16 -->
    <link rel="shortcut icon" href="{{ site.baseurl }}/assets/img/favicon.ico">
    <!-- 32x32 -->
    <link rel="shortcut icon" href="{{ site.baseurl }}/assets/img/graphics/favicon.webp">

    <!-- Bootstrap core CSS -->
    <link href="{{site.baseurl}}/assets/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="{{site.baseurl}}/assets/css/theme.css" rel="stylesheet">

    <!-- Fonts -->F
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:700%7CRoboto:300,400,400i,500,700,700i&display=swap" rel="stylesheet">

    <!-- Bigfoot -->
    <link href="{{site.baseurl}}/assets/css/bigfoot-default.min.css" rel="stylesheet">
    
    <!-- Tocify -->
    <link href="{{site.baseurl}}/assets/css/bootstrap-toc.min.css" rel="stylesheet">
    
    <script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/4fd9f0f18da6483fe39140533/b3d9541c0672ba943390f1938.js");</script>

    {% if page.url == "/" %}
    <!-- AOS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    {% endif %}

    {% if page.extra_css %}    
    {% for extraCSS in page.extra_css %}    
	    <link rel="stylesheet" href="{{extraCSS}}">
    {% endfor %}
    {% endif %}

    <!-- GA -->    
      {% if site.google_analytics %}
        <script>
        if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
          ga('create', '{{ site.google_analytics }}', 'auto');
          ga('send', 'pageview');
        }
        </script>
      {% endif %}
    <!-- End GA -->

  </head>

  <body data-spy="scroll" data-target="#mytoc">

  {% include nav.html %}

  <div class="wrapcontent container">      
    {{ content }}
  {% include footer.html %}

    <!-- JavaScript
  ================================================== -->
  <script>
  var BASE_URL = '{{ site.url }}';
  </script>
  <script src="{{site.baseurl}}/assets/js/jquery.min.js"></script>
  <script src="{{site.baseurl}}/assets/js/popper.min.js"></script>
  <script src="{{site.baseurl}}/assets/js/bigfoot.min.js"></script>
  <script src="{{site.baseurl}}/assets/js/bootstrap.min.js"></script> 
  <script src="{{site.baseurl}}/assets/js/bootstrap-toc.min.js"></script>
      
  {% if page.share %}
    <script async type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5a80909f08e4bc00136bbf17&product=sticky-share-buttons"></script> 
  {% endif %}

  {% if page.layout == 'post' %}
    {% if site.owner.disqus-shortname and page.comments or site.comments %}
        <script id="dsq-count-scr" src="//{{site.owner.disqus-shortname}}.disqus.com/count.js" async></script>
    {% endif %}

  {% endif %}
  
  {%- if page.title == "Search" -%}
        {% include lunr-search-scripts.html %}
  {%- endif -%}

  {% if site.mathjax == true %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  {% endif %}
  
  {% if page.url == "/" %}
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>AOS.init();</script>
  {% endif %}

  <script src="{{site.baseurl}}/assets/js/theme.js"></script>

  {% if page.extra_js %}    
    {% for extraJS in page.extra_js %}    
        <script src="{{extraJS}}"></script>
    {% endfor %}
  {% endif %}


  <script>
      var rowcount = $(".cardrecent > div").length;
      if(rowcount % 2 == 1) {
        $( ".cardrecent" ).addClass( "oddloop" );
      }
      
      $(function() {
	      var $myToc = $('#mytoc');
        Toc.init({
          $nav: $myToc,
	        // The element where the search for headings will be limited to
          $scope: $('.post-article')
     	  });

	      $('body').scrollspy({
	        target: $myToc
	      });
	      
	      setTimeout(function(){ }, 100);
	      
	      $myToc.height( ($(window).height() -  $("#main_nav").height() - $("#sidebar-above-toc").height() - 80));

	    });
  </script>

  </body>
</html>
